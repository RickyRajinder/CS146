import java.util.Scanner;

/**
 * See if a sequence of numbers contains a certain subsequence.
 * @author singh
 *
 */
public class Main {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		Scanner scan = new Scanner(System.in);
		int testCases = scan.nextInt();
		while(testCases>0){
		int seqLength = scan.nextInt();
		scan.nextLine();
		int[] seqArray = new int[seqLength];
		String seqLine = scan.nextLine();
		String[] strs = seqLine.trim().split("\\s+");
		for (int r = 0; r < strs.length; r++){
			seqArray[r] = Integer.parseInt(strs[r]);
		}
		int subseqLength = scan.nextInt();
		scan.nextLine();
		int[] subseqArray = new int[subseqLength];
		String subseqLine = scan.nextLine();
		String[] strs1 = subseqLine.trim().split("\\s+");
		for (int p = 0; p < strs1.length; p++){
			subseqArray[p] = Integer.parseInt(strs1[p]);
		}
		int k = 0;
		for (int i = 0; i < seqLength; i++){
			if (seqArray[i] == subseqArray[k]){
				k++;
				if (k==subseqLength){
					break;
				}
			}
		
		}
		
		if (k==subseqLength){
			System.out.println("Yes");
		}
		else {
			System.out.println("No");
		}
		testCases--;
		}
		}
			
	}



